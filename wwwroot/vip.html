<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <script src="/static/js/validate.js"></script>
    <title>Bookstore Customer Portal</title>
    <title>Foodie Customer Portal</title>
    <link href="https://cdn.bootcss.com/font-awesome/5.13.0/css/all.css" rel="stylesheet">
    <link href="/static/styles/Common.css" rel="stylesheet">
    <link href="/static/styles/Data.css" rel="stylesheet">
    <link href="/static/styles/style.css" rel="stylesheet">
    <script src="/static/js/Data.js"></script>


</head>

<body>
<header>
    <div class="content-wrapper">
        <h1>Bookstore</h1>
        <nav>
            <a href="/index.html">Home</a>
            <a href="/product.html">Products</a>
        </nav>
        <div class="link-icons">
            <a href="vip.html">
                <p id="username"></p></a>
                <a href="cart.html">
                    <i class="fas fa-shopping-cart"></i> <span>0</span>
                </a>
        </div>
    </div>

    <script>
        validate("https://itslucas.me/users/current", initUsername);

        function initUsername(data) {
            if (data) document.getElementById("username").innerHTML = data;
        }

        function showChange() {
            usershow = document.getElementById("user-show");
            ordershow = document.getElementById("order-show");
            ordershow.style.display == 'none' ? ordershow.style.display = "table" : ordershow.style.display = 'none';
            usershow.style.display == 'none' ? usershow.style.display = "table" : usershow.style.display = 'none';

        }
    </script>
</header>
<div class="Content">
    <div class="Left" id="Left">
        <ul>
            <li class="Select">
                <a href="#" onclick="showChange()">è´¦æˆ·ä¿¡æ¯</a>
            </li>
            <li>
                <a href="#" onclick="showChange()">æˆ‘çš„è®¢å•</a>
            </li>
        </ul>
    </div>
    <div class="Right" id="Right">
        <div class="Details Detail-4" id="user-show" style="display:block;">
            <p class="AboutUS">è´¦æˆ·ä¿¡æ¯</p>
            <ul>
                <li>
                    <span class="Detail-4-Left">é¡¾å??ID</span>
                    <span id="user_id"></span>
                </li>
                <li>
                    <span class="Detail-4-Left">é¡¾å?¢åç§?</span>
                    <span id="user_name"></span>
                </li>
                <li>
                    <span class="Detail-4-Left">ç”µè¯</span>
                    <span id="user_phone"></span>
                </li>
            </ul>
        </div>
        <div class="Details Detail-4" id="order-show" style="display:none;">
            <p class="AboutUS">è®¢å•ä¿¡æ¯</p>
            <table id="orderTable">
                <tr>
                    <td style="width: 20%">
                        è®¢å•ç¼–å·
                    </td>
                    <td style="width: 20%">è®¢å•æ—¥æœŸ</td>
                    <td style="width: 20%">å®ä»˜æ¬?</td>
                    <td style="width: 20%">äº¤æ˜“çŠ¶æ€?</td>
                </tr>
            </table>
        </div>
    </div>
</div>
<script>
</script>
<header>
    <div class="content-wrapper">
        <h1>Foodie</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="product.html">Products</a>
            <a href="logout">Logout</a>
        </nav>
        <div class="link-icons">
            <a href="cart">
                <i class="fas fa-shopping-cart"></i> <span>0</span>
            </a>
        </div>
    </div>
</header>
<div class="Content">
    <div class="Left" id="Left">
        <ul id="orders">
            <li class="Select">
                <a href="#">è´¦æˆ·ä¿¡æ¯</a>
            </li>
            <li>
                <a href="#">æˆ‘çš„è®¢å•</a>
            </li>
            <script>

            </script>
        </ul>
        <li>
            <a href="#">ä¿?æ”¹ä¿¡æ?</a>
        </li>
        </ul>
    </div>
    <div class="Right" id="Right">
        <div class="Details Detail-4" style="display:block;">
            <p class="AboutUS">è´¦æˆ·ä¿¡æ¯</p>
            <ul>
                <li>
                    <span class="Detail-4-Left">é¡¾å??ID</span>
                    <td id="td_userid"></td>
                </li>
                <li>
                    <span class="Detail-4-Left">é¡¾å?¢åç§?</span>
                    <td id="td_username"></td>
                </li>
                <li>
                    <span class="Detail-4-Left">ç”µè¯</span>
                    <td id="td_userphone">xxx</td>
                </li>
                <li>
                    <span class="Detail-4-Left">é‚?ç®?</span>
                    <td id="td_useremail">xxx</td>
                </li>
                <li>
                    <span class="Detail-4-Left">å¯†ç </span>
                    <td id="td_userpsw">xxx</td>
                </li>
            </ul>
        </div>

        <div class="Details Detail-1" style="display:none;">
            <p class="AboutUS">æˆ‘çš„è®¢å•</p>
            <ul>
                <li>
                    <table id="TopTR">
                        <tr>
                            <td>
                                å•†å“ä¿¡æ¯
                            </td>
                            <td>å•ä»·</td>
                            <td>æ•°é‡</td>
                            <td>å•†å“æ“ä½œ</td>
                            <td>å®ä»˜æ¬?</td>
                            <td>äº¤æ˜“çŠ¶æ€?</td>
                            <td>ä»˜æ?¾æ–¹å¼?</td>
                        </tr>

                    </table>
                </li>
                <li>
                    <a class="Delect2">
                        <table id="TR_2">
                            <tr>
                                <!--  <td><img src="/img/imgcon1.jpg" /></td>-->
                                <td>
                                    <p style="text-decoration: line-through;color:gray;">ï¿?999.00</p>
                                    <p>ï¿?799.00</p>
                                </td>
                                <td>
                                    <p>1</p>
                                </td>
                                <td>
                                    <p>ç”³è?·å”®å?</p>
                                </td>
                                <td>
                                    <p>ï¿?799.00</p>
                                    <p style="color:gray;">ï¼ˆå«è¿è´¹ï¼šï¿¥0.00ï¼?</p>
                                </td>

                                <td>
                                    <p>äº¤æ˜“æˆåŠŸ</p>
                                    <p>è®¢å•è¯¦æƒ…</p>
                                </td>
                                <td>
                                    <p>xxx</p>
                                </td>
                            </tr>
                        </table>
                    </a>
                    <a class="Delect">
                        <span><input type="checkbox" value=""/></span>
                        <span>2018-01-15</span>
                        <span>è®¢å•å·ï¼šxxx</span>
                        <span>åˆ¸æŠ˜æ‰£ï¼šxxx</span>
                        <span>èŠ‚æ—¥æŠ˜æ‰£ï¼šxxx</span>
                        <span>ä½¿ç”¨ç¦è±†ï¼šxxx</span>
                        <span>ä¼šå‘˜æŠ˜æ‰£:xxx</span>
                        <span>å®ä»˜æ¬?:xxx</span>
                        <!--  <img src="/img/åƒåœ¾ç®?.svg" style="width:30px;height:30px;position:absolute;right:15px;top:10px;" />

  -->                    </a>
                </li>
                <li>
                    <a class="Delect2">
                        <table id="TR_2">
                            <tr>
                                <!--    <td><img src="/img/imgcon1.jpg" /></td>
                                  -->
                                <td>
                                    <p style="text-decoration: line-through;color:gray;">ï¿?999.00</p>
                                    <p>ï¿?799.00</p>
                                </td>
                                <td>
                                    <p>1</p>
                                </td>
                                <td>
                                    <p>ç”³è?·å”®å?</p>
                                </td>
                                <td>
                                    <p>ï¿?799.00</p>
                                    <p style="color:gray;">ï¼ˆå«è¿è´¹ï¼šï¿¥0.00ï¼?</p>
                                </td>

                                <td>
                                    <p>äº¤æ˜“æˆåŠŸ</p>
                                    <p>è®¢å•è¯¦æƒ…</p>
                                </td>
                                <td>
                                    <p>xxx</p>
                                </td>
                            </tr>
                        </table>
                    </a>
                    </a>
                    <a class="Delect">
                        <span><input type="checkbox" value=""/></span>
                        <span>2018-01-15</span>
                        <span>è®¢å•å·ï¼šxxx</span>
                        <span>åˆ¸æŠ˜æ‰£ï¼šxxx</span>
                        <span>èŠ‚æ—¥æŠ˜æ‰£ï¼šxxx</span>
                        <span>ä½¿ç”¨ç¦è±†ï¼šxxx</span>
                        <span>ä¼šå‘˜æŠ˜æ‰£:xxx</span>
                        <span>å®ä»˜æ¬?:xxx</span>
                        <!--       <img src="/img/åƒåœ¾ç®?.svg" style="width:30px;height:30px;position:absolute;right:15px;top:10px;" />
   -->
                    </a>
                </li>
                <li>
                    <a class="Delect2">
                        <table id="TR_2">
                            <tr>
                                <!--        <td><img src="/img/imgcon1.jpg" /></td>-->
                                <td>
                                    <p style="text-decoration: line-through;color:gray;">ï¿?999.00</p>
                                    <p>ï¿?799.00</p>
                                </td>
                                <td>
                                    <p>1</p>
                                </td>
                                <td>
                                    <p>ç”³è?·å”®å?</p>
                                </td>
                                <td>
                                    <p>ï¿?799.00</p>
                                    <p style="color:gray;">ï¼ˆå«è¿è´¹ï¼šï¿¥0.00ï¼?</p>
                                </td>

                                <td>
                                    <p>äº¤æ˜“æˆåŠŸ</p>
                                    <p>è®¢å•è¯¦æƒ…</p>
                                </td>
                                <td>
                                    <p>xxx</p>
                                </td>
                            </tr>
                        </table>
                    </a>
                    <a class="Delect">
                        <span><input type="checkbox" value=""/></span>
                        <span>2018-01-15</span>
                        <span>è®¢å•å·ï¼šxxx</span>
                        <span>åˆ¸æŠ˜æ‰£ï¼šxxx</span>
                        <span>èŠ‚æ—¥æŠ˜æ‰£ï¼šxxx</span>
                        <span>ä½¿ç”¨ç¦è±†ï¼šxxx</span>
                        <span>ä¼šå‘˜æŠ˜æ‰£:xxx</span>
                        <span>å®ä»˜æ¬?:xxx</span>
                        <img src="/img/åƒåœ¾ç®?.svg"
                             style="width:30px;height:30px;position:absolute;right:15px;top:10px;"/>

                    </a>
                </li>

            </ul>
        </div>
        <div class="Details Detail-6" style="display:none;">
            <p class="AboutUS">ä¿?æ”¹ä¿¡æ?</p>
            <ul>
                <li>
                    <span class="Detail-4-Left">é¡¾å?¢åç§?</span>
                    <td><input th:placeholder="${user.username}" type="text"/></td>
                </li>
                <li style="background-color: white;">
                    <input class=" BaoCun" type="button" value="ä¿å­˜"/>
                </li>
                <li>
                    <span class="Detail-4-Left"><b>*</b>æ€§åˆ«</span>
                    <input style="height:18px;width:18px;" type="radio" value="ç”?"/>ç”?
                    <input style="height:18px;width:18px;" type="radio" value="å¥?"/>å¥?
                    <input style="height:18px;width:18px;" type="radio" value="ä¿å¯†"/>ä¿å¯†
                </li>
                <li style="background-color: white;">
                    <input class=" BaoCun" type="button" value="ä¿å­˜"/>
                </li>
                <li>
                    <span class="Detail-4-Left">ç”Ÿæ—¥</span>
                    <input class="year" type="text"/>å¹?
                    <input class="year"/>æœ?
                    <input class="year"/>æ—?
                </li>
                <li style="background-color: white;">
                    <input class=" BaoCun" type="button" value="ä¿å­˜"/>
                </li>
                <li>
                    <span class="Detail-4-Left" th:placeholder="${user.phone}">ç”µè¯</span>
                    <input type="text"/>
                </li>
                <li style="background-color: white;">
                    <input class=" BaoCun" type="button" value="ä¿å­˜"/>
                </li>
                <li>
                    <span class="Detail-4-Left" th:placeholder="${user.email}">é‚?ç®?</span>
                    <input type="text"/>
                </li>
                <li style="background-color: white;">
                    <input class=" BaoCun" type="button" value="ä¿å­˜"/>
                </li>
                <li>
                    <span class="Detail-4-Left" th:placeholder="${user.password}">å¯†ç </span>
                    <input type="text"/>
                </li>
                <li style="background-color: white;">
                    <input class=" BaoCun" type="button" value="ä¿å­˜"/>
                </li>
            </ul>
        </div>
        >>>>>>> master
    </div>
</div>
</body>
<script>
    validate("https://itslucas.me/api/userinfo", init);

    function init(JsonData) {
        console.log(JsonData);
        var data = JSON.parse(JsonData);
        var user = data.first;
        var orders = data.second;

        console.log(user);
        console.log(orders);


        console.log(user.username);
        document.getElementById("user_name").innerHTML = user.username;
        document.getElementById("user_id").innerHTML = user.id;
        document.getElementById("user_phone").innerHTML = user.phone;

        var ul = document.getElementById("orders");
        orders.forEach(function (order) {
            var li = document.createElement("li");
            var span = document.createElement("span");
            span.className = "Detail-4-Left";
            span.innerHTML = "è®¢å•ä¿¡æ¯";
            var td = document.createElement("td");
            td.innerHTML = "|è®¢å•ç¼–å·: " + order.id + " è®¢å•ä»·æ ¼: " + order.orderTotal + " è®¢å•æ—¥æœŸ: " + order.getOrderDate + "|";
            li.appendChild(span);
            li.appendChild(td);
            ul.appendChild(li);
        });

        var table = document.getElementById("orderTable");
        orders.forEach(function (order) {
            var tr = document.createElement("tr");

            var td = document.createElement("td");
            td.innerHTML = order.id;
            tr.appendChild(td);

            var td = document.createElement("td");
            td.innerHTML = order.orderDate;
            tr.appendChild(td);

            var td = document.createElement("td");
            td.innerHTML = order.orderTotal;
            tr.appendChild(td);

            var td = document.createElement("td");
            td.innerHTML = order.orderStatus;
            tr.appendChild(td);


            table.appendChild(tr);
            /*
            order.cartItemList.forEach(function (cartItem){

                var td = document.createElement("td");
                td.href="/productdetail"+cartItem.book.id;
                td.innerHTML=cartItem.book.title;
                var img = document.createElement("img");
                img.src="/imgs/"+cartItem.book.id+".jpg";
                img.width="200";
                img.height="200";
                tr.appendChild(td);

                var td = document.createElement("td");
                td.innerHTML=cartItem.book.listPrice;
                tr.appendChild(td);

                var td = document.createElement("td");
                td.innerHTML=cartItem.book.qty;
                tr.appendChild(td);

                var td = document.createElement("td");
                td.innerHTML=cartItem.book.subtotal;
                tr.appendChild(td);


            })
            */
        });


        /* if(user) document.getElementById("td_username").innerHTML = user.username;
         if(user) document.getElementById("td_userid").innerHTML = user.id;
         if(user) document.getElementById("td_userphone").innerHTML = user.phone;
         if(user) document.getElementById("td_useremail").innerHTML = user.email;
         if(user) document.getElementById("td_userpsw").innerHTML = user.password;*/
    }


</script>
</html>