<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>Bookstore Customer Portal</title>
    <link rel="stylesheet" th:href="@{/styles/style.css}" type="text/css">
    <link href="https://cdn.bootcss.com/font-awesome/5.13.0/css/all.css" rel="stylesheet">
</head>

<body>
<header>
    <div class="content-wrapper">
        <h1>Bookstore</h1>
        <nav>
            <a href="index">Home</a>
            <a href="product">Products</a>
            <a href="register">Register</a>
        </nav>
        <div class="link-icons">
            <a href="vip"><p th:text="${user.username}" th:if="${user ne null}"></p>
                <a href="index">
                    <i class="fas fa-shopping-cart"></i> <span>0</span>
                </a>
        </div>
    </div>
</header>
<main>
    <div class="cart content-wrapper">
        <h1>Shopping Cart</h1>
        <form method="post" th:action="@{/placeorder}">
            <table>
                <thead>
                <tr>
                    <td colspan="2">Product</td>
                    <td>Price</td>
                    <td>Quantity</td>
                    <td>Total</td>
                </tr>
                </thead>
                <tbody>
                <tr th:each="cartItem : ${cartItems}">
                    <td class="img">
                        <a th:href="@{/productdetail(id=${cartItem.book.id})}">
                            <img th:src="@{/imgs/{num}.jpg(num=${cartItem.getBook().getId()})}" width="50" height="50"
                                 alt="">
                        </a>
                    </td>
                    <td>
                        <a th:href="@{/productdetail(id=${cartItem.book.id})}"
                           th:text="${cartItem.book.getTitle()}"></a>
                        <br>
                        <a th:href="@{/removeCart(id=${cartItem.book.id})}" class="remove">Remove</a>
                    </td>
                    <td class="price" th:text="${cartItem.book.getListPrice()}">&dollar;16</td>
                    <td class="quantity">
                        <input type="number" name="quantity-F0019" value="1" min="1" max="99" placeholder="Quantity"
                               required>
                    </td>
                    <td class="price" th:text="${cartItem.book.getListPrice()}">&dollar;16</td>
                </tr>
                </tbody>
            </table>
            <div class="subtotal">
                <span class="text">Discount</span>
                <span class="price">&dollar;0</span>
                <span class="text">Subtotal</span>
                <span class="price" th:text="${shoppingCart.grandTotal}">&dollar;233</span>
            </div>
            <div class="buttons">
                <input name="placeorder" type="submit" value="Place Order">
            </div>
        </form>
    </div>
</main>
<footer>
    <div class="content-wrapper">
        <p>&copy; 2020, Bookstore Ltd.</p>
    </div>
</footer>
</body>

</html>